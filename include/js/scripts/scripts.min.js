var app=app||{};app.allAnimalsView=Backbone.View.extend({url:"PolygonalAnimalsApi.com/public/polygonalanimals",model:app.singleAnimal,initialize:function(){this.model.fetch(),this.model.bind("change",this.render,this)},tagName:"section",render:function(){return this.collection.each(this.addAnimal,this),this},addAnimal:function(e){var a=new app.singleAnimalView({model:e});this.$el.append(a.render().el)}});var app=app||{};app.allCreatorsView=Backbone.View.extend({tagName:"section",render:function(){return this.collection.each(this.addCreator,this),this},addCreator:function(e){var a=new app.singleCreatorView({model:e});this.$el.append(a.render().el)}});var app=app||{};app.singleAnimalView=Backbone.View.extend({url:"PolygonalAnimalsApi.com/public/polygonalanimals",model:app.singleAnimal,initialize:function(){this.model.fetch(),this.model.bind("change",this.render,this)},tagName:"article",className:"animalListItem",template:_.template($("#animalElement").html()),render:function(){var e=this.model.toJSON(),a=this.template({Objects:e});return this.$el.html(a),this},events:{mouseover:"addBgColor",mouseout:"removeBgColor"},addBgColor:function(){this.$el.addClass("bgColorImage")},removeBgColor:function(){this.$el.removeClass("bgColorImage")}});var app=app||{};app.singleCreatorView=Backbone.View.extend({url:"PolygonalAnimalsApi.com/public/creators",model:app.singleCreator,initialize:function(){this.model.fetch(),this.model.bind("change",this.render,this)},tagName:"articleCreator",className:"creatorListItem",template:_.template($("#creatorElement").html()),render:function(){var e=this.model.toJSON(),a=this.template({Objects:e});return this.$el.html(a),this}});var app=app||{};app.AnimalsCreator=Backbone.Model.extend({initialize:function(e){this.Creatorid=e.Creatorid,this.id=e.id},url:function(){return"PolygonalAnimalsApi.com/public/creators/"+this.Creatorid+"/polygonalanimals/"+this.id}});var app=app||{};app.AnimalsCreatorPut=Backbone.Model.extend({initialize:function(e){this.id=e.id},url:function(){return"PolygonalAnimalsApi.com/public/creators/"+this.id+"/polygonalanimals"}});var app=app||{};app.singleAnimal=Backbone.Model.extend({urlRoot:"PolygonalAnimalsApi.com/public/polygonalanimals",parse:function(e){var a=e.data;return a},initialize:function(){this.on("change",function(){}),this.on("change:price",function(){})}});var app=app||{};app.singleCreator=Backbone.Model.extend({urlRoot:"PolygonalAnimalsApi.com/public/creators",parse:function(e){var a=e.data;return a},initialize:function(){console.log("A model instance named "+this.get("name")+" has been created and it's his phone "+this.get("phone")),this.on("change",function(){console.log("Something in our model has changed")})}});var app=app||{};app.Router=Backbone.Router.extend({routes:{"":"default",wolf:"wolfMessage",owl:"owlMessage",panda:"pandaMessage",creators:"creatorPage",animals:"animalPage","put-animal":"putAnimalPage","update-animal":"updateAnimalPage","delete-animal":"deleteAnimalPage","put-creator":"putCreatorPage","update-creator":"updateCreatorPage","delete-creator":"deleteCreatorPage",identificationPage:"identificationPage"},initialize:function(){$(".form-container").hide(),$(".form-auth").hide(),$("#allAnimals").hide(),$("#allCreators").hide(),$(".creators-buttons").hide(),$(".animal-buttons").hide(),$(".form-creator-update").hide(),$(".form-creator-delete").hide(),$(".form-creator-create").hide(),$(".form-animal-update").hide(),$(".form-animal-delete").hide(),$(".form-animal-create").hide()},"default":function(){$("#copy").html(""),$("#allAnimals").hide(),$("#allCreators").hide(),$(".creators-buttons").hide(),$(".animal-buttons").hide(),$(".form-container").hide(),$(".form-auth").hide(),$(".form-creator-update").hide(),$(".form-creator-delete").hide(),$(".form-creator-create").hide(),$(".form-animal-update").hide(),$(".form-animal-delete").hide(),$(".form-animal-create").hide()},wolfMessage:function(){$("#copy").html("Heirloom Roses are great Mother's Day flowers")},owlMessage:function(){$("#copy").html("Choose Rainbow Roses for your wedding")},pandaMessage:function(){$("#copy").html("On Valentine's Day, give that special someone Red Roses")},identificationPage:function(){$("#allAnimals").hide(),$("#allCreators").hide(),$(".form-container_2").hide(),$(".form-auth").show(),$(".form-auth").submit(function(e){e.preventDefault();var a=$(".form-auth .login").val(),t=$(".form-auth .pass").val();sendAuthentication=function(e){var o=a,r=t,n=o.concat(":",r);e.setRequestHeader("Authorization","Basic ".concat(btoa(n)))};var o=new app.singleCreator({name:"test",phone:9999});o.save(null,{beforeSend:sendAuthentication,success:function(){alert("Vous êtes identifié.")},error:function(e,a){alert(a.responseText)}})})},creatorPage:function(){$("#allAnimals").hide(),$("#allCreators").show(),$(".form-container").hide(),$(".form-auth").hide(),$(".form-container_2").hide(),$(".animal-buttons").hide(),$(".creators-buttons").show();var e=new app.singleCreator,a=new app.singleCreatorView({model:e});$("#allCreators").html(a.render().el)},animalPage:function(){$("#allCreators").hide(),$("#allAnimals").show(),$(".form-container").hide(),$(".form-auth").hide(),$(".form-container_2").hide(),$(".creators-buttons").hide(),$(".animal-buttons").show();var e=new app.singleAnimal,a=new app.singleAnimalView({model:e});$("#allAnimals").html(a.render().el)},putAnimalPage:function(){$("#allAnimals").hide(),$(".form-container_2").show(),$(".form-auth").hide(),$(".form-animal-update").hide(),$(".form-animal-delete").hide(),$(".form-animal-create").show(),$(".form-animal-create").submit(function(e){e.preventDefault();var a=$(".form-animal-create .creatorId").val(),t=$(".form-animal-create .color").val(),o=$(".form-animal-create .price").val(),r=new app.AnimalsCreatorPut({id:a,color:t,price:o});r.save(null,{type:"POST",success:function(){alert("L'animal a été crée.")},error:function(e,a){alert(a.responseText)}})})},updateAnimalPage:function(){$(".animal-buttons").hide(),$("#allAnimals").hide(),$(".form-container_2").show(),$(".form-auth").hide(),$(".form-animal-update").show(),$(".form-animal-delete").hide(),$(".form-animal-create").hide(),$(".form-animal-update").submit(function(e){e.preventDefault();var a=$(".form-animal-update .animalId").val(),t=$(".form-animal-update .creatorId").val(),o=$(".form-animal-update .color").val(),r=$(".form-animal-update .price").val(),n=new app.AnimalsCreator({Creatorid:t,id:a,color:o,price:r});n.save(null,{success:function(){alert("L'animal a été mis à jour.")},error:function(e,a){alert(a.responseText)}})})},deleteAnimalPage:function(){$(".animal-buttons").hide(),$("#allAnimals").hide(),$(".form-container_2").show(),$(".form-auth").hide(),$(".form-animal-update").hide(),$(".form-animal-delete").show(),$(".form-animal-create").hide(),$(".form-animal-delete").submit(function(e){e.preventDefault();var a=$(".form-animal-delete .animalId").val(),t=$(".form-animal-delete .creatorId").val(),o=new app.AnimalsCreator({id:a,Creatorid:t});o.destroy({success:function(){alert("This animal has been deleted.")},error:function(e,a){alert(a.responseText)}})})},putCreatorPage:function(){$("#allCreators").hide(),$(".form-container_2").hide(),$(".form-auth").hide(),$(".form-container").show(),$(".form-creator-update").hide(),$(".form-creator-delete").hide(),$(".form-creator-create").show(),$(".form-creator-create").submit(function(e){e.preventDefault();var a=$(".form-creator-create .name").val(),t=$(".form-creator-create .phone").val();alert(t);var o=new app.singleCreator({name:a,phone:t});o.save(null,{success:function(){alert("Le creator a été crée.")},error:function(e,a){alert(a.responseText)}})})},updateCreatorPage:function(){$("#allCreators").hide(),$(".form-container").show(),$(".form-container_2").hide(),$(".form-auth").hide(),$(".form-creator-create").hide(),$(".form-creator-delete").hide(),$(".form-creator-update").show(),$(".form-creator-update").submit(function(e){e.preventDefault();var a=$(".form-creator-update .id").val(),t=$(".form-creator-update .name").val(),o=$(".form-creator-update .phone").val(),r=new app.singleCreator({id:a,name:t,phone:o});r.save(null,{success:function(){alert("Le creator a été modifié.")},error:function(e,a){alert(a.responseText)}})})},deleteCreatorPage:function(){$("#allCreators").hide(),$(".form-container").show(),$(".form-container_2").hide(),$(".form-auth").hide(),$(".form-creator-create").hide(),$(".form-creator-update").hide(),$(".form-creator-delete").show(),$(".form-creator-delete").submit(function(e){e.preventDefault();var a=$(".form-creator-delete .id").val(),t=new app.singleCreator({id:a});t.destroy({success:function(){alert("This creator has been deleted.")},error:function(e,a){alert(a.responseText)}})})}});var app=app||{};app.AnimalsCollection=Backbone.Collection.extend({url:"PolygonalAnimalsApi.com/public/polygonalanimals",model:app.singleAnimal});var app=app||{};app.CreatorsCollection=Backbone.Collection.extend({model:app.singleCreator}),$("#kk");var animalRouter=new app.Router;$(".form-container").hide(),Backbone.history.start();
//# sourceMappingURL=scripts.min.js.map
